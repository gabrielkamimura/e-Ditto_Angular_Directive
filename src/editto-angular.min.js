"use strict";var app=angular.module("e-Ditto",[]).directive("editto",["$compile",function(e){return{restrict:"AE",scope:{myDirectiveVar:"=ngModel",documento:"=?",barraBotoes:"=?",opcoes:"=?"},transclude:!0,replace:!0,template:'<div><textarea data-ng-model="myDirectiveVar" id="meuTextarea"></textarea><div data-ng-transclude></siv></div>',controller:"EdittoCtrl"}}]).controller("EdittoCtrl",["$scope",function(e){e.opcoes=e.opcoes||{},document.getElementById("meuTextarea").value=e.myDirectiveVar,e.editor=new eDitto("meuTextarea",e.opcoes),e.editor.obterDocumento().pararPassag();setInterval(function(){e.editor.obterDocumento().setValue(),e.myDirectiveVar=e.editor.obterDocumento().frame.body.innerHTML,e.$apply()},500);e.documento=e.editor.obterDocumento(),e.barraBotoes=e.editor.obterBarraBotoes()}]).directive("edittoButtonGroup",["$compile",function(e){return{restrict:"AE",scope:{barraBotoes:"=?"},transclude:!0,replace:!0,require:"^editto",controller:"eDittoButtonGroupCtrl",template:"<div ng-transclude></div>"}}]).controller("eDittoButtonGroupCtrl",["$scope",function(e){this.obterGrupoBotoes=function(){return e.grupoBotoes},e.grupoBotoes=new eDittoButtonGroup(e.$parent.$parent.barraBotoes)}]).directive("edittoButton",["$compile",function(e){return{restrict:"AE",scope:{icone:"=?",title:"=?",evClick:"&ngClick",verificarBotao:"=?"},require:"^edittoButtonGroup",controller:"eDittoButtonCtrl"}}]).controller("eDittoButtonCtrl",["$scope",function(e){var t=new eDittoButton(e.$parent.$parent.grupoBotoes,e.icone,e.title);e.verificarBotao&&e.$parent.$parent.$parent.$parent.barraBotoes.adicionarBotaoVerificacao(t,e.verificarBotao),t.getButtonDOM().onclick=function(){e.evClick()}}]).directive("edittoSelect",["$compile",function(e){return{restrict:"AE",scope:{title:"=?",evChange:"&ngChange",verificarSelect:"=?",opcoes:"=?",myDirectiveVar:"=ngModel"},require:"^edittoButtonGroup",controller:"eDittoSelectCtrl"}}]).controller("eDittoSelectCtrl",["$scope",function(e){if(e.opcoes){var t=new eDittoSelect(e.$parent.$parent.grupoBotoes,e.title,e.opcoes);e.myDirectiveVar=t.getValue(),e.verificarSelect&&e.$parent.$parent.$parent.$parent.barraBotoes.adicionarBotaoVerificacao(t,e.verificarSelect),t.getButtonDOM().onchange=function(){e.myDirectiveVar=t.getValue()};var o=0;e.$watch("myDirectiveVar",function(t){o&&e.evChange(),o++})}}]);